{"ast":null,"code":"import _slicedToArray from\"/Users/macintoshhd/Documents/Developpement/Web/Project/Shopify/Ecommerce-Shopify-master/frontend-shopify-ecommerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{server}from\"../../server\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var CountDown=function CountDown(_ref){var data=_ref.data;var _useState=useState(calculateTimeLeft()),_useState2=_slicedToArray(_useState,2),timeLeft=_useState2[0],setTimeLeft=_useState2[1];useEffect(function(){setTimeout(function(){setTimeLeft(calculateTimeLeft());},1000);if(typeof timeLeft.days===\"undefined\"&&typeof timeLeft.hours===\"undefined\"&&typeof timeLeft.minutes===\"undefined\"&&typeof timeLeft.seconds===\"undefined\"){axios.delete(\"\".concat(server,\"/event/delete-shop-event/\").concat(data._id));}return function(){return clearInterval(timeLeft);};});function calculateTimeLeft(){// today date + 3 days\nvar evDate=new Date(new Date().getTime()+3*24*60*60*1000).toLocaleDateString();// const difference = +new Date(evDate) - +new Date();\nvar difference=+new Date(data.Finish_Date)-+new Date();var timeLeft={};if(difference>0){timeLeft={days:Math.floor(difference/(1000*60*60*24)),hours:Math.floor(difference/(1000*60*60)%24),minutes:Math.floor(difference/1000/60%60),seconds:Math.floor(difference/1000%60)};}return timeLeft;}var timerComponents=Object.keys(timeLeft).map(function(interval){if(!timeLeft[interval]){return null;}return/*#__PURE__*/_jsxs(\"span\",{className:\"text-[25px] text-[#475ad2]\",children:[timeLeft[interval],\" \",interval,\" \"]});});return/*#__PURE__*/_jsx(\"div\",{children:timerComponents.length?timerComponents:/*#__PURE__*/_jsx(\"span\",{className:\"text-[red] text-[25px]\",children:\"Time's Up\"})});};export default CountDown;","map":{"version":3,"names":["axios","React","useEffect","useState","server","jsxs","_jsxs","jsx","_jsx","CountDown","_ref","data","_useState","calculateTimeLeft","_useState2","_slicedToArray","timeLeft","setTimeLeft","setTimeout","days","hours","minutes","seconds","delete","concat","_id","clearInterval","evDate","Date","getTime","toLocaleDateString","difference","Finish_Date","Math","floor","timerComponents","Object","keys","map","interval","className","children","length"],"sources":["/Users/macintoshhd/Documents/Developpement/Web/Project/Shopify/Ecommerce-Shopify-master/frontend-shopify-ecommerce/src/components/Events/CountDown.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { server } from \"../../server\";\n\nconst CountDown = ({ data }) => {\n  const [timeLeft, setTimeLeft] = useState(calculateTimeLeft());\n\n  useEffect(() => {\n    setTimeout(() => {\n      setTimeLeft(calculateTimeLeft());\n    }, 1000);\n    if (\n      typeof timeLeft.days === \"undefined\" &&\n      typeof timeLeft.hours === \"undefined\" &&\n      typeof timeLeft.minutes === \"undefined\" &&\n      typeof timeLeft.seconds === \"undefined\"\n    ) {\n      axios.delete(`${server}/event/delete-shop-event/${data._id}`);\n    }\n    return () => clearInterval(timeLeft);\n  });\n\n  function calculateTimeLeft() {\n    // today date + 3 days\n    const evDate = new Date(\n      new Date().getTime() + 3 * 24 * 60 * 60 * 1000\n    ).toLocaleDateString();\n\n    // const difference = +new Date(evDate) - +new Date();\n    const difference = +new Date(data.Finish_Date) - +new Date();\n    let timeLeft = {};\n\n    if (difference > 0) {\n      timeLeft = {\n        days: Math.floor(difference / (1000 * 60 * 60 * 24)),\n        hours: Math.floor((difference / (1000 * 60 * 60)) % 24),\n        minutes: Math.floor((difference / 1000 / 60) % 60),\n        seconds: Math.floor((difference / 1000) % 60),\n      };\n    }\n    return timeLeft;\n  }\n\n  const timerComponents = Object.keys(timeLeft).map((interval) => {\n    if (!timeLeft[interval]) {\n      return null;\n    }\n\n    return (\n      <span className=\"text-[25px] text-[#475ad2]\">\n        {timeLeft[interval]} {interval}{\" \"}\n      </span>\n    );\n  });\n\n  return (\n    <div>\n      {timerComponents.length ? (\n        timerComponents\n      ) : (\n        <span className=\"text-[red] text-[25px]\">Time's Up</span>\n      )}\n    </div>\n  );\n};\n\nexport default CountDown;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}